{"version":3,"file":"index.js","sources":["../src/redux/user/index.js","../src/lang/index.js","../src/components/Login.js","../src/components/Signup.js","../src/components/ResetPw.js","../src/components/RequestPwReset.js","../index.js"],"sourcesContent":["export let renewApiToken = (api) => async (dispatch, getState) => {\n  const {\n    user: { email, loginToken },\n  } = getState();\n  const apiToken = await api.get(\"user/apiToken\").authPW(email, loginToken);\n  dispatch(updateUser({ apiToken }));\n};\n\nexport const updateUser = (user) => ({\n  type: \"USER_UPDATE\",\n  user,\n});\n\nexport const login = (user) => ({\n  type: \"USER_LOGIN\",\n  user,\n});\n\nexport const logout = () => ({\n  type: \"USER_LOGOUT\",\n});\n\nexport const setLanguage = (lang) => ({\n  type: \"SET_LANGUAGE\",\n  lang,\n});\n\nconst reducer = (types) => (state = {}, action = {}) => {\n  switch (action.type) {\n    case types.USER_UPDATE.name:\n      return { ...state, ...action.user };\n    case types.USER_LOGIN.name:\n      return { ...action.user };\n    case types.USER_LOGOUT.name:\n      return {};\n    case types.SET_LANGUAGE.name:\n      return { ...state, lang: action.lang };\n    default:\n      return state;\n  }\n};\n\nconst actionNames = [\n  logout().type,\n  login().type,\n  setLanguage().type,\n  updateUser().type,\n];\n\nexport const getUserDataFromApiToken = (user) => {\n  try {\n    return JSON.parse(atob(user.apiToken.split(\".\")[1])) || {};\n  } catch (e) {\n    return {};\n  }\n};\n\nexport default {\n  reducer,\n  actionNames,\n  login,\n  logout,\n};\n","export const en = {\n  account: {\n    mail: \"Email\",\n    mailError: \"Invalid email adress. Please check your input.\",\n    mailRequired: \"Please enter your email adress.\",\n    password: \"Password\",\n    passwordError:\n      \"Invalid password: The password must be at least six characters long. Please check your input.\",\n    passwordRequired: \"Please enter your password.\",\n  },\n  signup: {\n    userExists:\n      \"Someone already registered using this email\" +\n      \" address. Please register using another email address. If\" +\n      \" you have forgotten your password you can reset it on the login page.\",\n    signup: \"Register\",\n    done:\n      \"We have send you an email to confirm your account. Please follow the instructions in the email to log in.\",\n  },\n  login: {\n    login: \"Log in\",\n    authWrong:\n      \"Your username or password is not correct. Please check your input.\",\n    pwForgotten: \"Password forgotten\",\n  },\n  pwForgotten: {\n    requestPwReset: \"Reset password\",\n    unknownEmail:\n      \"We could not find a user with the entered email adress. Please check your input.\",\n    done:\n      \"Don't worry, we have send you an email to the specified address.\" +\n      \" Please follow the instructions in the email to set a new password.\",\n  },\n  resetPw: {\n    noToken:\n      \"There must have happened some kind of error: This is not a\" +\n      \" proper password reset link. Please check again or contact customer\" +\n      \" support.\",\n    resetPassword: \"Set password\",\n    instructions: \"Please enter a new password:\",\n    done: \"Your password was reset successfully!\",\n    ok: \"Ok\",\n  },\n  setPw: {\n    noToken:\n      \"There must have happened some kind of error: This is not a\" +\n      \" proper password reset link. Please check again or contact customer\" +\n      \" support.\",\n    resetPassword: \"Save\",\n    instructions: \"Please enter a password:\",\n    done: \"Your password was saved!\",\n    ok: \"Next\",\n  },\n};\n\nexport const de = {\n  account: {\n    mail: \"Email\",\n    mailError: \"Unglültige Email-Addresse. Bitte überprüfen Sie Ihre Eingabe.\",\n    mailRequired: \"Bitte geben Sie Ihre Email-Addresse ein.\",\n    password: \"Passwort\",\n    passwordError:\n      \"Passwort ungültig: Ihr Passwort muss mindestens sechs Zeichen lang sein.\",\n    passwordRequired: \"Bitte geben Sie Ihr Passwort ein.\",\n  },\n  signup: {\n    userExists:\n      \"Diese Email-Adresse wurde bereits bei uns registriert.\" +\n      \" Bitte benutzen Sie eine andere Adresse. Falls\" +\n      \" Sie ihr Passwort vergessen haben sollten können Sie es \",\n    signup: \"Registrieren\",\n    done:\n      \"Wir haben Ihnen eine Email zur bestätigung Ihres Accounts geschickt. Bitte folgen Sie den Anweisungen in der Email um sich einzuloggen.\",\n  },\n  login: {\n    login: \"Jetzt einloggen\",\n    authWrong:\n      \"Nutzername oder Passwort sind falsch. Bitte überprüfen Sie Ihre Eingabe.\",\n    pwForgotten: \"Passwort vergessen\",\n  },\n  pwForgotten: {\n    requestPwReset: \"Passwort zurücksetzen\",\n    unknownEmail:\n      \"Wir konnten keinen Benutzer mit der angegenbenen E-Mail Addresse finden. Bitte überprüfen Sie Ihre Eingabe.\",\n    done:\n      \"Keine Sorge, wir haben Ihnen eine Email gesendet. Bitte folgen Sie\" +\n      \" den Instruktionen in der Email um ein neues Passwort zu vergeben.\",\n  },\n  resetPw: {\n    noToken:\n      \"Da ist etwas schiefgegangen... Der Link den Sie verwendet haben\" +\n      \" ist kein gültiger Link um ein Passwort zurückzusetzen. Bitte\" +\n      \" überprüfen Sie, ob Sie ihn richtig eingegeben haben oder\" +\n      \" kontaktieren Sie unseren den Kundenservice.\",\n    instructions: \"Bitte neues Passwort eingeben:\",\n    resetPassword: \"Passwort festlegen\",\n    done: \"Ihr Passwort wurde erfolgreich geändert!\",\n    ok: \"Ok\",\n  },\n  setPw: {\n    noToken:\n      \"Da ist etwas schiefgegangen... Der Link den Sie verwendet haben\" +\n      \" ist kein gültiger Link um ein Passwort zurückzusetzen. Bitte\" +\n      \" überprüfen Sie, ob Sie ihn richtig eingegeben haben oder\" +\n      \" kontaktieren Sie unseren den Kundenservice.\",\n    instructions: \"Bitte geben Sie ein Passwort ein:\",\n    resetPassword: \"Passwort speichern\",\n    done: \"Ihr Passwort wurde erfolgreich gespeichert!\",\n    ok: \"Weiter\",\n  },\n};\n","import React, { useState, useEffect, useCallback } from \"react\";\nimport * as Yup from \"yup\";\nimport { login, logout } from \"../redux/user/index\";\nimport { Formik, Form } from \"formik\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport * as defLanguages from \"../lang/index\";\n\nconst useLogin = ({\n  components: { FormikInput: InputField, Button, Link, ErrorMessage },\n  strings: languages = defLanguages,\n  api: { get },\n}) => {\n  const Login = ({\n    containerStyle,\n    onLogin = () => {},\n    onLogout = () => {},\n    login,\n    logout,\n    logMeOut,\n    apiVersion,\n    user,\n    pwForgottenUrl = \"/passwordreset\",\n    defaulLang = \"en\",\n  }) => {\n    const strings = languages[user.lang || defaulLang];\n\n    const [loading, setLoading] = useState(false);\n    const [wrong, setWrong] = useState(false);\n\n    useEffect(() => {\n      if (user.id && !logMeOut) {\n        onLogin(user);\n      }\n    }, [user, logMeOut]);\n\n    useEffect(() => {\n      if (user.id && logMeOut) {\n        logout();\n        onLogout();\n      }\n    }, [logout, logMeOut]);\n\n    const onSubmit = async ({ email, password }) => {\n      if (email && password) {\n        setWrong(false);\n        setLoading(true);\n        const req = get(\"user/login\")\n          .authPW(email, password)\n          .on(400, () => {})\n          .on(401, () => {});\n        if (apiVersion) {\n          req.v(apiVersion);\n        }\n        try {\n          const me = await req;\n          setLoading(false);\n          login({ email, ...me });\n        } catch (e) {\n          if (e) {\n            alert(e);\n          }\n          setWrong(true);\n          setLoading(false);\n        }\n      } else {\n        setWrong(true);\n      }\n    };\n\n    return (\n      <Formik\n        initialValues={{ email: \"\", password: \"\" }}\n        validationSchema={Yup.object({\n          email: Yup.string()\n            .email(strings.account.mailError)\n            .required(strings.account.mailRequired),\n          password: Yup.string().required(strings.account.passwordRequired),\n        })}\n        onSubmit={onSubmit}\n      >\n        <Form style={containerStyle} className=\"login\">\n          <InputField label={strings.account.mail} name=\"email\" type=\"email\" />\n          <InputField\n            label={strings.account.password}\n            name=\"password\"\n            type=\"password\"\n          />\n          <div className=\"submit\">\n            <Button submit loading={loading}>\n              {strings.login.login}\n            </Button>\n            {wrong && <ErrorMessage message={strings.login.authWrong} />}\n          </div>\n          <div className=\"pwForgotten\">\n            <Link to={pwForgottenUrl}>{strings.login.pwForgotten}</Link>\n          </div>\n        </Form>\n      </Formik>\n    );\n  };\n  Login.propTypes = {\n    lang: PropTypes.string,\n    containerStyle: PropTypes.object,\n    apiVersion: PropTypes.number,\n    onLogin: PropTypes.func,\n    onLogout: PropTypes.func,\n    login: PropTypes.func,\n    logout: PropTypes.func,\n    logMeOut: PropTypes.bool,\n    user: PropTypes.object,\n    pwForgottenUrl: PropTypes.string,\n    defaulLang: PropTypes.string,\n  };\n\n  return useCallback(\n    connect(({ user }) => ({ user }), { login, logout })(Login),\n    [InputField, Button, Link, ErrorMessage, get, languages]\n  );\n};\n\nexport default useLogin;\n","import React, { useState, useCallback } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport * as defLanguages from \"../lang/index\";\n\nconst useSignup = ({\n  components: { FormikInput: InputField, Button, Link, ErrorMessage },\n  strings: languages = defLanguages,\n  api: { post },\n}) => {\n  const Signup = ({\n    containerStyle,\n    onSignup = () => {},\n    apiVersion,\n    user,\n    initialValues = {},\n    validation = {},\n    firstFields,\n    lastFields,\n    defaulLang = \"en\",\n    transformBeforeSend = (a) => a,\n  }) => {\n    const strings = languages[user.lang || defaulLang];\n\n    const [loading, setLoading] = useState(false);\n    const [userExists, setUserExists] = useState(false);\n    const [done, setDone] = useState(false);\n\n    const validationSchema = Yup.object({\n      email: Yup.string()\n        .email(strings.account.mailError)\n        .required(strings.account.mailRequired),\n      ...validation,\n    });\n\n    const onSubmit = async (params) => {\n      if (await validationSchema.isValid(params)) {\n        setUserExists(false);\n        setLoading(true);\n        const req = post(\"user\")\n          .data(transformBeforeSend(params))\n          .on({ status: 413, error: \"User exists\" }, () => {\n            setUserExists(true);\n          });\n        if (apiVersion) {\n          req.v(apiVersion);\n        }\n        try {\n          await req;\n          setLoading(false);\n          onSignup(params);\n          setDone(true);\n        } catch (e) {\n          if (e) {\n            alert(e);\n          }\n          setLoading(false);\n        }\n      }\n    };\n\n    if (done) {\n      return <div>{strings.signup.done}</div>;\n    }\n\n    return (\n      <Formik\n        initialValues={{ email: \"\", ...initialValues }}\n        validationSchema={validationSchema}\n        onSubmit={onSubmit}\n      >\n        <Form style={containerStyle}>\n          {firstFields}\n          <InputField label={strings.account.mail} name=\"email\" type=\"email\" />\n          {lastFields}\n          <div>\n            <Button submit loading={loading}>\n              {strings.signup.signup}\n            </Button>\n            {userExists && <ErrorMessage message={strings.signup.userExists} />}\n          </div>\n        </Form>\n      </Formik>\n    );\n  };\n  Signup.propTypes = {\n    lang: PropTypes.string,\n    containerStyle: PropTypes.object,\n    apiVersion: PropTypes.number,\n    onSignup: PropTypes.func,\n    user: PropTypes.object,\n    defaulLang: PropTypes.string,\n    initialValues: PropTypes.object,\n    validation: PropTypes.object,\n    firstFields: PropTypes.array,\n    lastFields: PropTypes.array,\n    transformBeforeSend: PropTypes.func,\n  };\n\n  return useCallback(connect(({ user }) => ({ user }), {})(Signup), [\n    InputField,\n    Button,\n    Link,\n    ErrorMessage,\n    post,\n    languages,\n  ]);\n};\n\nexport default useSignup;\n","import React, { useState, useCallback } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport { login } from \"../redux/user/index\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport * as defLanguages from \"../lang/index\";\n\nconst useResetPassword = ({\n  components: { FormikInput: InputField, Button, Link, ErrorMessage },\n  strings: languages = defLanguages,\n  api: { put },\n}) => {\n  const ResetPassword = ({\n    containerStyle,\n    onResetPassword = () => {},\n    validatePassword = (pw) => !pw || pw.length >= 6,\n    email,\n    token,\n    onDone,\n    login,\n    apiVersion,\n    user,\n    defaulLang = \"en\",\n    welcome,\n  }) => {\n    const strings = languages[user.lang || defaulLang];\n    const resetStrings = welcome ? strings.setPw : strings.resetPw;\n\n    const [loading, setLoading] = useState(false);\n    const [tokenWrong, setTokenWrong] = useState(false);\n    const [resetDone, setResetDone] = useState(false);\n\n    const onSubmit = async ({ password }) => {\n      if (!email || !token) {\n        setTokenWrong(true);\n        return;\n      }\n      if (password) {\n        setTokenWrong(false);\n        setLoading(true);\n        const req = put(\"user\")\n          .authPW(email, token)\n          .data({ password })\n          .on({ status: 401, error: \"User not found\" }, () => {\n            setTokenWrong(true);\n          })\n          .on({ status: 401, error: \"Unauthorized\" }, () => {\n            setTokenWrong(true);\n          });\n        if (apiVersion) {\n          req.v(apiVersion);\n        }\n        try {\n          const me = await req;\n          setLoading(false);\n          setResetDone(true);\n          login({ email, ...me });\n          onResetPassword(me);\n        } catch (e) {\n          if (e) {\n            alert(e);\n          }\n          setLoading(false);\n        }\n      }\n    };\n\n    if (resetDone) {\n      return (\n        <div>\n          <div>{resetStrings.done}</div>\n          {onDone && <Button onClick={onDone}>{resetStrings.ok}</Button>}\n        </div>\n      );\n    }\n\n    return (\n      <Formik\n        initialValues={{ password: \"\" }}\n        validationSchema={Yup.object({\n          password: Yup.string()\n            .test(\n              \"customPwCheck\",\n              strings.account.passwordError,\n              validatePassword\n            )\n            .required(strings.account.passwordRequired),\n        })}\n        onSubmit={onSubmit}\n      >\n        <Form style={containerStyle}>\n          <div>{resetStrings.instructions}</div>\n          <InputField\n            label={strings.account.password}\n            name=\"password\"\n            type=\"password\"\n          />\n          <div>\n            <Button submit loading={loading}>\n              {resetStrings.resetPassword}\n            </Button>\n            {tokenWrong && <ErrorMessage message={resetStrings.noToken} />}\n          </div>\n        </Form>\n      </Formik>\n    );\n  };\n  ResetPassword.propTypes = {\n    email: PropTypes.string,\n    token: PropTypes.string,\n    lang: PropTypes.string,\n    containerStyle: PropTypes.object,\n    apiVersion: PropTypes.number,\n    login: PropTypes.func,\n    onDone: PropTypes.func,\n    onResetPassword: PropTypes.func,\n    user: PropTypes.object,\n    defaulLang: PropTypes.string,\n    validatePassword: PropTypes.func,\n    welcome: PropTypes.bool,\n  };\n\n  return useCallback(\n    connect(({ user }) => ({ user }), { login })(ResetPassword),\n    [InputField, Button, Button, Link, ErrorMessage, put, languages]\n  );\n};\n\nexport default useResetPassword;\n","import React, { useState, useCallback } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form } from \"formik\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport * as defLanguages from \"../lang/index\";\n\nconst useRequestPwReset = ({\n  components: { FormikInput: InputField, Button, ErrorMessage },\n  strings: languages = defLanguages,\n  api: { post },\n}) => {\n  const RequestPwReset = ({\n    containerStyle,\n    onRequestPasswordReset = () => {},\n    apiVersion,\n    user,\n    defaulLang = \"en\",\n  }) => {\n    const strings = languages[user.lang || defaulLang];\n\n    const [loading, setLoading] = useState(false);\n    const [emailUnknown, setEmailUnknown] = useState(false);\n    const [requestDone, setRequestDone] = useState(false);\n\n    const onSubmit = async ({ email }) => {\n      if (email) {\n        setEmailUnknown(false);\n        setLoading(true);\n        const req = post(\"user/$1/reset\", [email])\n          .auth(false.auth)\n          .on(404, () => {\n            setEmailUnknown(true);\n          });\n        if (apiVersion) {\n          req.v(apiVersion);\n        }\n        try {\n          await req;\n          setLoading(false);\n          setRequestDone(true);\n          onRequestPasswordReset();\n        } catch (e) {\n          if (e) {\n            console.log(e);\n          }\n          setLoading(false);\n        }\n      }\n    };\n\n    if (requestDone) {\n      return (\n        <div>\n          <div>{strings.pwForgotten.done}</div>\n        </div>\n      );\n    }\n\n    return (\n      <Formik\n        initialValues={{ email: \"\" }}\n        validationSchema={Yup.object({\n          email: Yup.string()\n            .email(strings.account.mailError)\n            .required(strings.account.mailRequired),\n        })}\n        onSubmit={onSubmit}\n      >\n        <Form style={containerStyle}>\n          <InputField label={strings.account.mail} name=\"email\" type=\"email\" />\n          <div>\n            <Button submit loading={loading}>\n              {strings.pwForgotten.requestPwReset}\n            </Button>\n            {emailUnknown && (\n              <ErrorMessage message={strings.pwForgotten.unknownEmail} />\n            )}\n          </div>\n        </Form>\n      </Formik>\n    );\n  };\n  RequestPwReset.propTypes = {\n    lang: PropTypes.string,\n    containerStyle: PropTypes.object,\n    apiVersion: PropTypes.number,\n    onRequestPasswordReset: PropTypes.func,\n    user: PropTypes.object,\n    defaulLang: PropTypes.string,\n  };\n\n  return useCallback(connect(({ user }) => ({ user }), {})(RequestPwReset), [\n    InputField,\n    Button,\n    ErrorMessage,\n    post,\n    languages,\n  ]);\n};\n\nexport default useRequestPwReset;\n","export { default as useLogin } from \"./src/components/Login\";\nexport { default as useSignup } from \"./src/components/Signup\";\nexport { default as useResetPassword } from \"./src/components/ResetPw\";\nexport { default as useRequestPasswordReset } from \"./src/components/RequestPwReset\";\n\nexport * as strings from \"./src/lang/index\";\nimport user from \"./src/redux/user/index\";\nconst loginStore = { user };\nexport { loginStore };\nexport * as actions from \"./src/redux/user/index\";\n\nexport { getUserDataFromApiToken } from \"./src/redux/user/index\";\n"],"names":["renewApiToken","api","dispatch","getState","user","email","loginToken","get","authPW","apiToken","updateUser","type","login","logout","setLanguage","lang","reducer","types","state","action","USER_UPDATE","name","USER_LOGIN","USER_LOGOUT","SET_LANGUAGE","actionNames","getUserDataFromApiToken","JSON","parse","atob","split","e","en","account","mail","mailError","mailRequired","password","passwordError","passwordRequired","signup","userExists","done","authWrong","pwForgotten","requestPwReset","unknownEmail","resetPw","noToken","resetPassword","instructions","ok","setPw","de","useLogin","components","InputField","FormikInput","Button","Link","ErrorMessage","strings","languages","defLanguages","Login","containerStyle","onLogin","onLogout","logMeOut","apiVersion","pwForgottenUrl","defaulLang","useState","loading","setLoading","wrong","setWrong","useEffect","id","onSubmit","req","on","v","me","alert","React","Formik","Yup","required","Form","propTypes","PropTypes","string","object","number","func","bool","useCallback","connect","useSignup","post","Signup","onSignup","initialValues","validation","firstFields","lastFields","transformBeforeSend","a","setUserExists","setDone","validationSchema","params","isValid","data","status","error","array","useResetPassword","put","ResetPassword","onResetPassword","validatePassword","pw","length","token","onDone","welcome","resetStrings","tokenWrong","setTokenWrong","resetDone","setResetDone","test","useRequestPwReset","RequestPwReset","onRequestPasswordReset","emailUnknown","setEmailUnknown","requestDone","setRequestDone","auth","console","log","loginStore"],"mappings":"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"}